{"version":3,"sources":["webpack:///./node_modules/core-js/modules/es.regexp.flags.js","webpack:///./src/views/Search/index.vue?908b","webpack:///src/views/Search/index.vue","webpack:///./src/views/Search/index.vue?a859","webpack:///./src/views/Search/index.vue","webpack:///./src/views/Search/index.vue?e38b","webpack:///./node_modules/core-js/internals/regexp-sticky-helpers.js","webpack:///./node_modules/core-js/internals/regexp-flags.js","webpack:///./node_modules/core-js/modules/es.function.name.js"],"names":["DESCRIPTORS","objectDefinePropertyModule","regExpFlags","UNSUPPORTED_Y","flags","f","RegExp","prototype","configurable","get","render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","on","back","onSearch","$event","saveSaerch","scopedSlots","_u","key","fn","_v","proxy","model","value","callback","$$v","expression","_e","_l","item","id","saveMusic","album","artist","img1v1Url","_s","name","__ob__","artists","index","hotSearch","first","staticRenderFns","components","data","hot","words","computed","watch","methods","$router","push","getHot","$axios","post","then","res","code","v","console","log","val","query","created","$eventBus","$emit","mounted","beforeCreate","beforeMount","beforeUpdate","updated","beforeDestroy","destroyed","activated","component","fails","RE","s","exports","re","lastIndex","exec","BROKEN_CARET","anObject","module","that","result","global","ignoreCase","multiline","dotAll","unicode","sticky","defineProperty","FunctionPrototype","Function","FunctionPrototypeToString","toString","nameRE","NAME","call","match","error"],"mappings":"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","file":"js/chunk-a2c2a964.99c7538f.js","sourcesContent":["var DESCRIPTORS = require('../internals/descriptors');\nvar objectDefinePropertyModule = require('../internals/object-define-property');\nvar regExpFlags = require('../internals/regexp-flags');\nvar UNSUPPORTED_Y = require('../internals/regexp-sticky-helpers').UNSUPPORTED_Y;\n\n// `RegExp.prototype.flags` getter\n// https://tc39.github.io/ecma262/#sec-get-regexp.prototype.flags\nif (DESCRIPTORS && (/./g.flags != 'g' || UNSUPPORTED_Y)) {\n  objectDefinePropertyModule.f(RegExp.prototype, 'flags', {\n    configurable: true,\n    get: regExpFlags\n  });\n}\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"search\"},[_c('div',{staticClass:\"search_head\"},[_c('div',{staticClass:\"header\"},[_c('van-icon',{attrs:{\"name\":\"arrow-left\"},on:{\"click\":_vm.back}}),_c('van-search',{attrs:{\"show-action\":\"\",\"placeholder\":\"请输入搜索关键词\"},on:{\"search\":_vm.onSearch,\"change\":function($event){return _vm.saveSaerch()}},scopedSlots:_vm._u([{key:\"action\",fn:function(){return [_c('div',{on:{\"click\":_vm.onSearch}},[_vm._v(\"搜索\")])]},proxy:true}]),model:{value:(_vm.value),callback:function ($$v) {_vm.value=$$v},expression:\"value\"}})],1),(!_vm.flags)?_c('ul',{staticClass:\"search_content\"},_vm._l((_vm.words),function(item){return _c('li',{key:item.id,on:{\"click\":function($event){return _vm.saveMusic(item)}}},[_c('img',{attrs:{\"src\":item.album.artist.img1v1Url,\"alt\":\"\"}}),_c('div',[_c('span',[_vm._v(_vm._s(item.name)+\"-\"+_vm._s(item.__ob__.value.artists[0].name))])])])}),0):_vm._e()]),(_vm.flags)?_c('ul',{staticClass:\"hot\"},_vm._l((_vm.hot),function(item,index){return _c('li',{key:index,on:{\"click\":function($event){return _vm.hotSearch(item)}}},[_vm._v(\" \"+_vm._s(item.first)+\" \")])}),0):_vm._e()])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<!-- 组件说明 -->\r\n<template>\r\n  <div class=\"search\">\r\n    <div class=\"search_head\">\r\n      <div class=\"header\">\r\n        <van-icon name=\"arrow-left\" @click=\"back\" />\r\n        <van-search class=\"\"\r\n          v-model=\"value\"\r\n          show-action\r\n          placeholder=\"请输入搜索关键词\"\r\n          @search=\"onSearch\"\r\n          @change=\"saveSaerch()\"\r\n        >\r\n          <template #action>\r\n            <div @click=\"onSearch\">搜索</div>\r\n          </template>\r\n        </van-search>\r\n      </div>\r\n      <ul class=\"search_content\" v-if=\"!flags\">\r\n        <li v-for=\"item in words\" :key=\"item.id\" @click=\"saveMusic(item)\">\r\n          <img :src=\"item.album.artist.img1v1Url\" alt=\"\" />\r\n          <div>\r\n            <span>{{ item.name }}-{{ item.__ob__.value.artists[0].name }}</span>\r\n          </div>\r\n        </li>\r\n      </ul>\r\n    </div>\r\n\r\n    <ul class=\"hot\" v-if=\"flags\">\r\n      <li v-for=\"(item, index) in hot\" :key=\"index\" @click=\"hotSearch(item)\">\r\n        {{ item.first }}\r\n      </li>\r\n    </ul>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  components: {},\r\n  data() {\r\n    return {\r\n      value: \"\",\r\n      flags: true,\r\n      hot: [],\r\n      words: [],\r\n    };\r\n  },\r\n  computed: {},\r\n  watch: {},\r\n  methods: {\r\n    //返回\r\n    back() {\r\n      this.$router.push({ name: \"MyStyle\" });\r\n    },\r\n    getHot() {\r\n      this.$axios.post(\"http://81.69.58.73:3000/search/hot\").then((res) => {\r\n        if (res.data.code === 200) {\r\n          this.hot = res.data.result.hots;\r\n        }\r\n      });\r\n    },\r\n    /* 点击热搜搜索框变更 */\r\n    hotSearch(v) {\r\n      this.value = v.first;\r\n    },\r\n    onSearch() {\r\n      this.$axios\r\n        .post(`http://81.69.58.73:3000/search?keywords=${this.value}`)\r\n        .then((res) => {\r\n          if (res.data.code === 200) {\r\n            this.words = res.data.result.songs;\r\n            // console.log(this.words);\r\n          }\r\n        });\r\n    },\r\n    /* 这里保证点击输入框内容时候，热搜消失，输入框内容消失，热搜出现 */\r\n    saveSaerch() {\r\n      if (this.value) {\r\n        this.flags = false;\r\n      } else {\r\n        this.flags = true;\r\n      }\r\n    },\r\n    /* 这里保证点歌进入播放页面 */\r\n    saveMusic(val) {\r\n      console.log(val);\r\n      //`https://music.163.com/song/media/outer/url?id=${val.id}.mp3`\r\n      this.$router.push({\r\n        //跳转传参有bug\r\n        name: \"Splay\",\r\n        query:{ id:val.id, gname:val.name , cname:val.__ob__.value.artists[0].name}\r\n      });\r\n      //暂时先不跳转\r\n      /*  this.$router.push({\r\n          name:\"PlayM\",\r\n            query:{id:val.id}\r\n          }) */\r\n    },\r\n  },\r\n  created() {\r\n    this.getHot();\r\n    // this.va=this.$route.query;\r\n    //派发消失底部\r\n    this.$eventBus.$emit(\"maile\");\r\n  },\r\n  mounted() {},\r\n  beforeCreate() {}, //生命周期 - 创建之前\r\n  beforeMount() {}, //生命周期 - 挂载之前\r\n  beforeUpdate() {\r\n    if (this.value) {\r\n      return (this.flags = false);\r\n    } else {\r\n      return (this.flags = true);\r\n    }\r\n  }, //生命周期 - 更新之前\r\n  updated() {}, //生命周期 - 更新之后\r\n  beforeDestroy() {}, //生命周期 - 销毁之前\r\n  destroyed() {}, //生命周期 - 销毁完成\r\n  activated() {}, //如果页面有keep-alive缓存功能，这个函数会触发\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.search {\r\n  font-size: .6rem;\r\n}\r\n.header {\r\n  display: flex;\r\n  align-items: center;\r\n  background: #f36838;\r\n  justify-content: center;\r\n  .van-icon {\r\n    margin-left: 0.1rem;\r\n    width: .5rem;\r\n  }\r\n  .van-search {\r\n    flex: 1;\r\n    background: #f36838;\r\n  }\r\n}\r\n.hot {\r\n  display: flex;\r\n  flex-wrap: wrap;\r\n  li {\r\n    border: 1px solid #ccc;\r\n    padding: 0.1rem;\r\n    border-radius: 20rem;\r\n    font-size: 0.2rem;\r\n    margin: 0.1rem 0.1rem;\r\n  }\r\n}\r\n/* 搜索关键词 */\r\n.search_head {\r\n  position: relative;\r\n  .searchWord {\r\n    position: absolute;\r\n    width: 100%;\r\n    padding: 1em;\r\n    box-sizing: border-box;\r\n    border-radius: 0 0 2rem 2rem;\r\n    background: burlywood;\r\n    li {\r\n      border-bottom: 1px solid #ccc;\r\n      margin-top: 1rem;\r\n    }\r\n  }\r\n}\r\n.search_content {\r\n  display: flex;\r\n  flex-direction: column;\r\n  li {\r\n    display: flex;\r\n    img {\r\n      width: 2rem;\r\n    }\r\n    div{\r\n      margin-left: .3rem;\r\n    }\r\n  }\r\n}\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=10489b7d&scoped=true&\"\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\nimport style0 from \"./index.vue?vue&type=style&index=0&id=10489b7d&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"10489b7d\",\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=0&id=10489b7d&lang=scss&scoped=true&\"","'use strict';\n\nvar fails = require('./fails');\n\n// babel-minify transpiles RegExp('a', 'y') -> /a/y and it causes SyntaxError,\n// so we use an intermediate function.\nfunction RE(s, f) {\n  return RegExp(s, f);\n}\n\nexports.UNSUPPORTED_Y = fails(function () {\n  // babel-minify transpiles RegExp('a', 'y') -> /a/y and it causes SyntaxError\n  var re = RE('a', 'y');\n  re.lastIndex = 2;\n  return re.exec('abcd') != null;\n});\n\nexports.BROKEN_CARET = fails(function () {\n  // https://bugzilla.mozilla.org/show_bug.cgi?id=773687\n  var re = RE('^r', 'gy');\n  re.lastIndex = 2;\n  return re.exec('str') != null;\n});\n","'use strict';\nvar anObject = require('../internals/an-object');\n\n// `RegExp.prototype.flags` getter implementation\n// https://tc39.github.io/ecma262/#sec-get-regexp.prototype.flags\nmodule.exports = function () {\n  var that = anObject(this);\n  var result = '';\n  if (that.global) result += 'g';\n  if (that.ignoreCase) result += 'i';\n  if (that.multiline) result += 'm';\n  if (that.dotAll) result += 's';\n  if (that.unicode) result += 'u';\n  if (that.sticky) result += 'y';\n  return result;\n};\n","var DESCRIPTORS = require('../internals/descriptors');\nvar defineProperty = require('../internals/object-define-property').f;\n\nvar FunctionPrototype = Function.prototype;\nvar FunctionPrototypeToString = FunctionPrototype.toString;\nvar nameRE = /^\\s*function ([^ (]*)/;\nvar NAME = 'name';\n\n// Function instances `.name` property\n// https://tc39.github.io/ecma262/#sec-function-instances-name\nif (DESCRIPTORS && !(NAME in FunctionPrototype)) {\n  defineProperty(FunctionPrototype, NAME, {\n    configurable: true,\n    get: function () {\n      try {\n        return FunctionPrototypeToString.call(this).match(nameRE)[1];\n      } catch (error) {\n        return '';\n      }\n    }\n  });\n}\n"],"sourceRoot":""}